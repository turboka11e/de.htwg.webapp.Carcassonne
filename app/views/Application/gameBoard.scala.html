@(playfield: de.htwg.se.Carcassonne.model.playfieldComponent.PlayfieldInterface, manicanList: List[(String, String)])
@main("Carcassonne") {


    <div class="my-5 container-sm">
        <div class="row justify-content-center align-items-center" id="app">
            <div class="mb-2 col-md-auto">
                <template v-if="grid != null">
                    <table>
                        <tbody>
                            <template v-for="rows in grid.rows">
                                <tr>
                                    <template v-for="col in rows.cols">
                                        <td>
                                            <div :key="col.col + col.row" style="height: 80px;
                                                width: 80px;">
                                                <input v-if="col.empty" type="image" v-on:click="placeCard(col.row, col.col)" :src="col.src">
                                                <div v-else class="cardPlaceholder">
                                                    <img style="pointer-events: none;" class="cardImage" :src="col.src" :style="{ transform: 'rotate(' + col.rotation + 'deg)'}">
                                                    <template v-for="manican in col.manicans">
                                                        <img style="pointer-events: none" :class="manican.dir" :src="manican.src">
                                                    </template>
                                                </div>
                                            </div>
                                        </td>
                                    </template>
                                </tr>
                            </template>
                        </tbody>
                    </table>
                </template>
            </div>

                <!-- Spielerinfos -->
            <div class=col-md-auto>

                <div class="card shadow-lg" style="width: 18rem;">
                    <div class="card-header">
                        <h3 class="fst-italic fw-bold">Spielerinfos</h3>
                    </div>
                    <the-player-stats></the-player-stats>
                    <div class="card-body">

                        <div class="row align-items-center">
                            <div class="col">
                                <button v-on:Click="rotateLeft()" class="btn btn-lg btn-secondary rounded-circle"><i class='fas fa-undo'></i></button>
                            </div>

                            <div style="height: 85px;" class="col">

                                <div v-if="freshCard != null" class="cardPlaceholder">
                                    <img class="cardImage; rotate"
                                    :src="freshCard.src" :key="freshCard.src" :style="rotationFreshCard"
                                    style='pointer-events: none;
                                        border-radius: 5px;' />
                                    <transition-group name="fade">
                                        <div v-if="freshCard.manicansShow">
                                            <div v-for="manican in freshCard.manicans">
                                                <input type="image" :disabled="manican.disabled" v-on:click="selectManican(manican.dir)" :key="manican.dir" :class="manican.dir" :src='manican.path'>
                                            </div>
                                        </div>
                                    </transition-group>
                                </div>

                            </div>

                            <div class="col">
                                <button v-on:Click="rotateRight()" class="btn btn-lg btn-secondary rounded-circle"><i
                                class='fas fa-redo'></i></button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </div>

    <script type="text/x-template" id="the-player-stats-template">
    <ul class="list-group list-group-flush">
    <div v-for="player in $parent.players">
    <li
    :style="{color: player.color}" class="list-group-item fw-bold">
    {{player.player}}
    <span v-if="player.isOn" class="badge bg-success">Am Zug</span>
    </li>
    </div>
    </ul>
    </script>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src='@routes.Assets.versioned("javascripts/boardgame.js")' type="module"></script>
    <script>

    </script>

}